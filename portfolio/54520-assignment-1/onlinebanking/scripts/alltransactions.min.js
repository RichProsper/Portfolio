import Header from"../../scripts/header.min.js";import{formatCurrency,TRStringToNodes,formatDate,logout}from"./utilities.min.js";null===localStorage.getItem("currentUser")?location.href="login.html":document.querySelector("body").classList.remove("hidden"),Header(),logout();const user=JSON.parse(localStorage.getItem("currentUser")),tbody=document.getElementById("transactions"),transactions=user.transactions.pos.concat(user.transactions.billPayments,user.transactions.transfers);transactions.sort(((t,e)=>e.createdOn-t.createdOn)),document.getElementById("name").textContent=user.name,document.getElementById("balance").textContent=formatCurrency(user.balance),transactions.forEach((t=>{tbody.append(...TRStringToNodes(`\n        <tr>\n            <td>${t.company?t.company:t.payee}</td>\n            <td>${formatDate(t.createdOn)}</td>\n            <td>${formatCurrency(t.amount)}</td>\n            <td>${t.type}</td>\n        </tr>\n    `))}));