class RWC_Textarea extends HTMLElement{static formAssociated=!0;static get observedAttributes(){return["rows","cols","dirname","minlength","maxlength","placeholder","readonly","required","wrap","textarea_size","textarea_color"]}get value(){return this.Textarea.value}set value(t){this.Textarea.value=t,this.setFormValue(),this.validation()}get rows(){return this.Textarea.rows}set rows(t){t?this.setAttribute("rows",t):this.removeAttribute("rows")}get cols(){return this.Textarea.cols}set cols(t){t?this.setAttribute("cols",t):this.removeAttribute("cols")}get dirName(){return this.Textarea.dirName}set dirName(t){t?this.setAttribute("dirname",t):this.removeAttribute("dirname")}get disabled(){return this.Textarea.disabled}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get minLength(){return this.Textarea.minLength}set minLength(t){t?this.setAttribute("minlength",t):this.removeAttribute("minlength")}get maxLength(){return this.Textarea.maxLength}set maxLength(t){t?this.setAttribute("maxlength",t):this.removeAttribute("maxlength")}get placeholder(){return this.Textarea.placeholder}set placeholder(t){t?this.setAttribute("placeholder",t):this.removeAttribute("placeholder")}get readOnly(){return this.Textarea.readOnly}set readOnly(t){t?this.setAttribute("readonly",""):this.removeAttribute("readonly")}get required(){return this.Textarea.required}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get wrap(){return this.Textarea.wrap}set wrap(t){t?this.setAttribute("wrap",t):this.removeAttribute("wrap")}get form(){return this.internals_.form}get name(){return this.getAttribute("name")}get validity(){return this.Textarea.validity}get validationMessage(){return this.Textarea.validationMessage}get willValidate(){return this.Textarea.willValidate}checkValidity=()=>this.internals_.checkValidity();reportValidity=()=>this.internals_.reportValidity();setFormValue=()=>this.internals_.setFormValue(this.value);formDisabledCallback(t){this.Textarea.disabled=t}formResetCallback(){this.Textarea.value=this.Textarea.textContent,this.setFormValue(),this.validation()}constructor(){super(),this.internals_=this.attachInternals(),this.init()}init(){this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(this.getTemplate().content.cloneNode(!0)),this.TextareaContainer=this.shadowRoot.querySelector("div.textarea-container"),this.Style=this.shadowRoot.querySelector("style"),this.Textarea=this.shadowRoot.querySelector("textarea"),this.Placeholder=this.shadowRoot.querySelector("span.placeholder")}getTemplate(){this.defaultTextareaColor={h:207,s:90,l:77},this.css="";const t=document.createElement("template");return t.innerHTML='\n            <link rel="stylesheet" href="style.min.css">\n\n            <div class="textarea-container">\n                <textarea></textarea>\n                <span class="placeholder"></span>\n                <span class="hover"></span>\n            </div>\n        ',t}validation(){this.internals_.setValidity(this.validity,this.validationMessage,this.Textarea)}determineColors(){if(!this.hasAttribute("textarea_color")){const t=this.defaultTextareaColor;return[`hsl(${t.h}, ${t.s}%, ${t.l}%)`,`hsl(${t.h}, ${t.s}%, ${t.l-24}%)`,`hsla(${t.h}, ${t.s}%, ${t.l}%, .035)`,`hsla(${t.h}, ${t.s}%, ${t.l}%, .07)`]}const t=document.createElement("div");t.style.color=this.getAttribute("textarea_color"),document.body.appendChild(t);const e=window.getComputedStyle(t).getPropertyValue("color").replace(/[rgba()]/g,"").split(", ");document.body.removeChild(t);const a=+e[0]/255,r=+e[1]/255,i=+e[2]/255,s=Math.min(a,r,i),h=Math.max(a,r,i),l=h-s;let o=0,n=0,d=0;return 0===l?o=0:h===a?o=(r-i)/l%6:h===r?o=(i-a)/l+2:h===i&&(o=(a-r)/l+4),o=Math.round(60*o),o<0&&(o+=360),d=(h+s)/2,n=0===l?0:l/(1-Math.abs(2*d-1)),n=+(100*n).toFixed(1),d=+(100*d).toFixed(1),[`hsl(${o}, ${n}%, ${d}%)`,`hsl(${o}, ${n}%, ${d-24}%)`,`hsla(${o}, ${n}%, ${d}%, .035)`,`hsla(${o}, ${n}%, ${d}%, .07)`]}updateSizeColor(){const[t,e,a,r]=this.determineColors();this.Style.innerHTML=this.css.replace("[[textarea_size]]",this.getAttribute("textarea_size")||this.defaultTextareaColor).replace("[[color_1a]]",t).replace("[[color_1b]]",e).replace("[[color_2a]]",a).replace("[[color_2b]]",r)}connectedCallback(){this.Textarea.textContent=this.textContent,this.setFormValue(),this.validation(),this.addEventListener("DOMSubtreeModified",(()=>{this.Textarea.textContent=this.textContent,this.setFormValue(),this.validation()})),this.Textarea.addEventListener("focus",(()=>this.TextareaContainer.classList.add("focused"))),this.Textarea.addEventListener("blur",(()=>this.TextareaContainer.classList.remove("focused"))),this.Textarea.addEventListener("input",(()=>{this.setFormValue(),this.validation()}))}attributeChangedCallback(t,e,a){switch(t){case"rows":this.hasAttribute("rows")?this.Textarea.setAttribute("rows",a):this.Textarea.removeAttribute("rows");break;case"cols":this.hasAttribute("cols")?this.Textarea.setAttribute("cols",a):this.Textarea.removeAttribute("cols");break;case"dirname":this.hasAttribute("dirname")?this.Textarea.setAttribute("dirname",a):this.Textarea.removeAttribute("dirname");break;case"minlength":this.hasAttribute("minlength")?this.Textarea.setAttribute("minlength",a):this.Textarea.removeAttribute("minlength");break;case"maxlength":this.hasAttribute("maxlength")?this.Textarea.setAttribute("maxlength",a):this.Textarea.removeAttribute("maxlength");break;case"placeholder":this.hasAttribute("placeholder")?(this.Textarea.setAttribute("placeholder",a),this.Placeholder.textContent=a):(this.Textarea.removeAttribute("placeholder"),this.Placeholder.textContent=null);break;case"readonly":this.hasAttribute("readonly")?this.Textarea.setAttribute("readonly",""):this.Textarea.removeAttribute("readonly");break;case"required":this.hasAttribute("required")?this.Textarea.setAttribute("required",""):this.Textarea.removeAttribute("required");break;case"wrap":this.hasAttribute("wrap")?this.Textarea.setAttribute("wrap",a):this.Textarea.removeAttribute("wrap");break;case"title":this.hasAttribute("title")?this.Textarea.setAttribute("title",a):this.Textarea.removeAttribute("title");break;case"textarea_size":case"textarea_color":break;default:}this.validation()}}window.customElements.define("rwc-textarea",RWC_Textarea);