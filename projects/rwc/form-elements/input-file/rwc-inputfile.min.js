class RWC_InputFile extends HTMLElement{static formAssociated=!0;static get observedAttributes(){return["max_file_size","num_files","min_files","max_files","multiple","required","placeholder","title","accept","input_size","input_color"]}get files(){return this.files_}get maxFileSize(){return this.getAttribute("max_file_size")||""}set maxFileSize(t){t?this.setAttribute("max_file_size",t):this.removeAttribute("max_file_size")}get numFiles(){return this.getAttribute("num_files")||""}set numFiles(t){t?this.setAttribute("num_files",t):this.removeAttribute("num_files")}get minFiles(){return this.getAttribute("min_files")||""}set minFiles(t){t?this.setAttribute("min_files",t):this.removeAttribute("min_files")}get maxFiles(){return this.getAttribute("max_files")||""}set maxFiles(t){t?this.setAttribute("max_files",t):this.removeAttribute("max_files")}get multiple(){return this.Input.multiple}set multiple(t){t?this.setAttribute("multiple",""):this.removeAttribute("multiple")}get required(){return this.Input.required}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get disabled(){return this.Input.disabled}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get placeholder(){return this.getAttribute("placeholder")||""}set placeholder(t){t?this.setAttribute("placeholder",t):this.removeAttribute("placeholder")}get accept(){return this.Input.accept}set accept(t){t?this.setAttribute("accept",t):this.removeAttribute("accept")}get inputSize(){return this.getAttribute("input_size")||""}set inputSize(t){t?this.setAttribute("input_size",t):this.removeAttribute("input_size")}get inputColor(){return this.getAttribute("input_color")||""}set inputColor(t){t?this.setAttribute("input_color",t):this.removeAttribute("input_color")}get form(){return this.internals_.form}get name(){return this.getAttribute("name")}get type(){return this.localName}get validity(){return this.internals_.validity}get validationMessage(){return this.internals_.validationMessage}get willValidate(){return this.internals_.willValidate}checkValidity=()=>this.internals_.checkValidity();reportValidity=()=>this.internals_.reportValidity();setFormValue(){if(0===this.files_.length)return this.internals_.setFormValue(null),void(this.Input.value=null);const t=this.getAttribute("name"),e=new FormData;for(const i of this.files_)e.append(t,i);this.internals_.setFormValue(e)}formDisabledCallback(t){t?this.Input.setAttribute("disabled",""):this.Input.removeAttribute("disabled")}formResetCallback(){this.files_=[],this.setFormValue(),this.PlaceholderSpan.textContent=` ${this.selectedPlaceholder}`,this.validation()}constructor(){super(),this.internals_=this.attachInternals(),this.files_=[],this.init()}init(){this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(this.getTemplate().content.cloneNode(!0)),this.Style=this.shadowRoot.querySelector("style"),this.Input=this.shadowRoot.querySelector("input"),this.PlaceholderDiv=this.shadowRoot.querySelector("div.placeholder"),this.PlaceholderSpan=this.shadowRoot.querySelector("span.placeholder")}getTemplate(){this.defaultInputSize="1.6rem",this.defaultInputColor="hsl(207, 90%, 53%)",this.defaultTitle="Choose a file...",this.defaultPlaceholder="Choose a file...",this.css="\n            *,*::before,*::after{margin:0;padding:0}.inputfile{--input-size: [[input_size]];--hue-white: 0, 0%;--white-1: hsl(var(--hue-white), 87%);--grey-1: hsl(var(--hue-white), 50%);--input-color: [[input_color]];color-scheme:dark;position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-size:var(--input-size);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.inputfile *,.inputfile *::before,.inputfile *::after{-webkit-box-sizing:inherit;box-sizing:inherit}.inputfile input{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;z-index:-1}.inputfile input:disabled+div{color:var(--grey-1);cursor:default;pointer-events:none}.inputfile input:disabled+div svg{fill:var(--grey-1)}.inputfile div{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:2.5em;border:.125em solid currentColor;cursor:pointer;text-align:center;padding:0 .625em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;-webkit-transition:color .2s;transition:color .2s}.inputfile div.focused,.inputfile div:hover{color:var(--input-color)}.inputfile div.focused svg,.inputfile div:hover svg{fill:var(--input-color)}.inputfile div svg{color:inherit;width:1em;fill:currentColor;margin-right:.5em;-webkit-transition:fill .2s;transition:fill .2s}\n        ";const t=document.createElement("template");return t.innerHTML=`\n            <style>${this.css}</style>\n\n            <label class="inputfile">\n                <input type="file">\n                <div class="placeholder">\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path d="M105.4 182.6c12.5 12.49 32.76 12.5 45.25 .001L224 109.3V352c0 17.67 14.33 32 32 32c17.67 0 32-14.33 32-32V109.3l73.38 73.38c12.49 12.49 32.75 12.49 45.25-.001c12.49-12.49 12.49-32.75 0-45.25l-128-128C272.4 3.125 264.2 0 256 0S239.6 3.125 233.4 9.375L105.4 137.4C92.88 149.9 92.88 170.1 105.4 182.6zM480 352h-160c0 35.35-28.65 64-64 64s-64-28.65-64-64H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456z"/></svg>\n                    <span class="placeholder"></span>\n                </div>\n            </label>\n        `,t}updatePlaceholder(){this.selectedPlaceholder=this.getAttribute("placeholder")||this.defaultPlaceholder,this.PlaceholderSpan.textContent=this.selectedPlaceholder}updateSizeColor(){this.Style.innerHTML=this.css.replace("[[input_size]]",this.getAttribute("input_size")||this.defaultInputSize).replace("[[input_color]]",this.getAttribute("input_color")||this.defaultInputColor)}validation(){switch(!0){case this.required&&0===this.files_.length:return void this.internals_.setValidity({valueMissing:!0},"Please select a file",this.Input);case this.hasAttribute("max_file_size"):{const t=+this.maxFileSize;for(const e of this.files_)if(Number.isInteger(t)&&t>0&&e.size>t)return void this.internals_.setValidity({tooLong:!0},`One or more of your selected files exceeds ${t} bytes`,this.Input)}case this.multiple:if(!this.multiple)break;switch(!0){case this.hasAttribute("num_files"):{const t=+this.numFiles;if(Number.isInteger(t)&&t>0&&this.files_.length!=t)return void this.internals_.setValidity({customError:!0},`You need to select exactly ${t} files`,this.Input);break}case this.hasAttribute("min_files")&&this.hasAttribute("max_files"):{const t=+this.minFiles,e=+this.maxFiles;if(Number.isInteger(t)&&Number.isInteger(e)&&t>0&&t<e&&(this.files_.length<t||this.files_.length>e))return void this.internals_.setValidity({customError:!0},`Please select atleast ${t} and no more than ${e} files`,this.Input);break}case this.hasAttribute("min_files"):{const t=+this.minFiles;if(Number.isInteger(t)&&t>0&&this.files_.length<t)return void this.internals_.setValidity({rangeUnderflow:!0},`Please select atleast ${t} files`,this.Input);break}case this.hasAttribute("max_files"):{const t=+this.maxFiles;if(Number.isInteger(t)&&t>0&&this.files_.length>t)return void this.internals_.setValidity({rangeOverflow:!0},`Please select no more than ${t} files`,this.Input);break}default:}break;default:}this.internals_.setValidity({})}connectedCallback(){this.updatePlaceholder(),this.PlaceholderDiv.title=this.getAttribute("title")||this.defaultTitle,this.updateSizeColor(),this.validation(),this.Input.addEventListener("focus",(()=>this.PlaceholderDiv.classList.add("focused"))),this.Input.addEventListener("blur",(()=>this.PlaceholderDiv.classList.remove("focused"))),this.Input.addEventListener("change",(t=>{switch(this.files_=t.target.files,this.setFormValue(),this.validation(),this.files_.length){case 0:this.PlaceholderSpan.textContent=` ${this.selectedPlaceholder}`;break;case 1:this.PlaceholderSpan.textContent=` ${this.files_[0].name}`;break;default:this.files_.length<9?this.PlaceholderSpan.textContent=` ${this.files_.length} files selected`:this.PlaceholderSpan.textContent=" 9+ files selected"}}))}attributeChangedCallback(t,e,i){switch(t){case"multiple":this.hasAttribute("multiple")?this.Input.setAttribute("multiple",""):this.Input.removeAttribute("multiple");break;case"required":this.hasAttribute("required")?this.Input.setAttribute("required",""):this.Input.removeAttribute("required");break;case"title":this.PlaceholderDiv.title=this.getAttribute("title")||this.defaultTitle;break;case"placeholder":this.updatePlaceholder();break;case"accept":this.hasAttribute("accept")?this.Input.setAttribute("accept",i):this.Input.removeAttribute("accept");break;case"input_size":case"input_color":this.updateSizeColor();break;default:}this.validation()}}window.customElements.define("rwc-inputfile",RWC_InputFile);